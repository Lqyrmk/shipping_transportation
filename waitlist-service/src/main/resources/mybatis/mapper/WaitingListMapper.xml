<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lqyrmk.transportation.mapper.WaitingListMapper">

    <resultMap id="waitingListByStepResultMap" type="waitingList">
        <id column="id" property="id"></id>
        <result column="user_id" property="userId"></result>
        <result column="total_price" property="totalPrice"></result>
        <result column="total_weight" property="totalWeight"></result>
        <collection property="waitingItemList"
                    select="com.lqyrmk.transportation.mapper.WaitingItemMapper.seleteWaitingListByStep2"
                    column="id"></collection>
    </resultMap>

    <!--WaitingList seleteWaitingListByStep1(@Param("userId") Long userId);-->
    <select id="seleteWaitingListByStep1" resultMap="waitingListByStepResultMap">
        select * from waiting_list where user_id = #{userId}
    </select>

<!--    &lt;!&ndash;GoodsList getGoodsListByGoodsId(@Param("goodsId") Integer goodsId);&ndash;&gt;-->
<!--    <select id="getGoodsListByGoodsId" resultType="GoodsList">-->
<!--        select * from goods_list where goods_id = #{goodsId}-->
<!--    </select>-->

<!--    &lt;!&ndash;void addGoodsToList(Goods goods);&ndash;&gt;-->
<!--    <insert id="addGoodsToList">-->
<!--        insert into goods_list(`goods_id`, `goods_name`, `price`, `weight`, `num`)-->
<!--        values(#{goodsId}, #{goodsName}, #{price}, #{weight}, 1)-->
<!--    </insert>-->

<!--    &lt;!&ndash;void updateGoodsNumber(@Param("goodsId") Integer goodsId);&ndash;&gt;-->
<!--    <update id="updateGoodsNumber">-->
<!--        update goods_list-->
<!--        set num = num + 1-->
<!--        where `goods_id`=#{goodsId}-->
<!--    </update>-->

<!--    &lt;!&ndash;void clearGoodsList();&ndash;&gt;-->
<!--    <delete id="clearGoodsList">-->
<!--        delete from goods_list-->
<!--    </delete>-->

<!--    &lt;!&ndash;void deleteGoodsList(@Param("goodsId") Integer goodsId);&ndash;&gt;-->
<!--    <delete id="deleteGoodsList">-->
<!--        delete from goods_list where `goods_id`=#{goodsId}-->
<!--    </delete>-->

</mapper>
